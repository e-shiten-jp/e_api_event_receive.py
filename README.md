# e_api_event_receive_tel.py
電話認証対応　Event I/F を使い、約定や株価の変動等のプッシュ通知をリアルタイムに受信する。

ご注意！！ ================================

	本番環境に接続した場合、実際に注文が出ます。
	市場で条件が一致して約定した場合、取り消せません。
	十分にご注意いただき、ご利用ください。

===========================================



１）動作テストを実行した環境

	APIバージョン： v4r7
	python:3.11.2 / os:debian12

２）事前に立花証券ｅ支店に口座開設が必要です。
  
３）利用時に変数を設定してください。
	
	# 必要な設定項目
	# 行番号: my_p_gyou_no  （1-120の整数）
	# 銘柄コード: my_sIssueCode （通常銘柄は4桁、優先株等は5桁。例、伊藤園'2593'、伊藤園優先株'25935'）
	# 市場: my_sSizyouC （00:東証   現在(2021/07/01)、東証のみ可能。）
	# 稼働時間: my_work_minutes
	#
	# 
	# 1銘柄で取得の場合のサンプル
	## my_p_gyou_no = '1'        # 行を指定する。string型。1-120の整数で、銘柄毎に違う行を指定する。時価取得時の銘柄の識別番号。
	## my_sIssueCode = '1234'  # 2.銘柄コード。string型。通常銘柄、4桁。優先株等、5桁。例、伊藤園'2593'、伊藤園優先株'25935'
	## my_sSizyouC = '00'      # 3.市場。string型。  00:東証   現在(2021/07/01)、東証のみ可能。
	#
	# 2銘柄で取得の場合のサンプル
	##my_p_gyou_no = '1,2'        # 行を指定する。string型。1-120の整数で、銘柄毎に違う行を指定する。時価取得時の銘柄の識別番号。
	##my_sIssueCode = '1301,1332'  # 2.銘柄コード。通常銘柄、4桁。優先株等、5桁。例、伊藤園'2593'、伊藤園優先株'25935'
	##my_sSizyouC = '00,00'      # 3.市場。  00:東証   現在(2021/07/01)、東証のみ可能。
	#
	# 3銘柄で取得の場合のサンプル
	##my_p_gyou_no = '1,2,3'        # 行を指定する。string型。1-120の整数で、銘柄毎に違う行を指定する。時価取得時の銘柄の識別番号。
	##my_sIssueCode = '1301,1332,1333'  # 2.銘柄コード。通常銘柄、4桁。優先株等、5桁。例、伊藤園'2593'、伊藤園優先株'25935'
	##my_sSizyouC = '00,00,00'      # 3.市場。  00:東証   現在(2021/07/01)、東証のみ可能。
	
４)実行は、設定ファイルや「e_api_login_tel.py」と同じディレクトリで実行してください。

	事前に
 	「電話認証＋e_api_login_tel.py実行」
  	で、仮想URL（１日券）を取得しておいてください。

５）実行内容は、以下になります。

	5-1）Event I/F で、指定したプッシュ情報を受信します（約定、株価の変動等のプッシュ通知）。
  
  	5-2）指定時間経過後に停止します。
	
	上記に付随して、送信データや受信データを適宜print()文で出力します。


６）取得した文字列に日本語が入った場合、文字コードはshift-jisです。

７）利用時間外に接続した場合、"p_errno":"9"（システム、サービス停止中。）が返されます。

	詳しくは「立花証券・ｅ支店・ＡＰＩ、EVENT I/F 利用方法、データ仕様」4ページをご参照ください。
  
	なおデモ環境のご利用時間はデモ環境の案内ページでください。
  
８）本サンプルプログラムは、事務方の者が休日や空き時間に作成したため、色々足りておりません。ご容赦ください。

９）本プログラムはライセンスの範囲内で自由にご使用ください。

１０）このソフトウェアを使用したことによって生じたすべての障害・損害・不具合等に関して、私と私の関係者および私の所属するいかなる団体・組織とも、一切の責任を負いません。各自の責任においてご使用ください。
